[gd_scene load_steps=18 format=3 uid="uid://del5wxlj8dfp2"]

[ext_resource type="PackedScene" uid="uid://cjac4nhnkmaup" path="res://Scenes/Characters/Enemies/Boss/CharacterBoss.tscn" id="1_hnewn"]
[ext_resource type="Script" path="res://Scenes/Characters/Enemies/Boss/enemy_boss.gd" id="1_vacrc"]
[ext_resource type="PackedScene" uid="uid://cv3c47mjv611c" path="res://Scenes/Components/take_damage_enemy.tscn" id="2_cdbr8"]
[ext_resource type="PackedScene" uid="uid://b6bek0ab6i4wg" path="res://Scenes/Components/player_detector.tscn" id="3_xht30"]
[ext_resource type="PackedScene" uid="uid://doyksevus16f" path="res://Scenes/Characters/StateMachine/state_machine.tscn" id="4_qtdll"]
[ext_resource type="Script" path="res://Scenes/Characters/StateMachine/Enemy/idle.gd" id="5_2g57x"]
[ext_resource type="PackedScene" uid="uid://825qsxmttfxw" path="res://Scenes/Components/enemy_attacker.tscn" id="5_6lkdv"]
[ext_resource type="Script" path="res://Scenes/Characters/StateMachine/Enemy/attack.gd" id="6_wc482"]
[ext_resource type="Script" path="res://Scenes/Characters/StateMachine/Enemy/dead.gd" id="7_3gr7q"]
[ext_resource type="Script" path="res://Scenes/Characters/StateMachine/Enemy/fall_idle.gd" id="8_3qjn3"]
[ext_resource type="Script" path="res://Scenes/Characters/StateMachine/Enemy/landing.gd" id="9_0fsh7"]
[ext_resource type="Script" path="res://Scenes/Characters/StateMachine/Enemy/take_damage.gd" id="10_7hh7k"]
[ext_resource type="Script" path="res://Scenes/Characters/StateMachine/Enemy/chase.gd" id="11_c655g"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_660sh"]
radius = 0.7

[sub_resource type="BoxShape3D" id="BoxShape3D_df71p"]
size = Vector3(10, 2.76282, 10)

[sub_resource type="BoxShape3D" id="BoxShape3D_ciij6"]
size = Vector3(0.187012, 0.231079, 0.596558)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_yvcvq"]

[node name="EnemyBoss" type="CharacterBody3D"]
script = ExtResource("1_vacrc")

[node name="visual" type="Node3D" parent="."]

[node name="Enemy" parent="visual" instance=ExtResource("1_hnewn")]

[node name="Skeleton3D" parent="visual/Enemy/Armature_006" index="0"]
bones/0/position = Vector3(0.0630776, -0.0956405, -81.8081)
bones/0/rotation = Quaternion(-0.68004, -0.264727, 0.290039, 0.619147)
bones/1/rotation = Quaternion(0.0763644, 0.06369, -0.00999645, 0.994994)
bones/2/rotation = Quaternion(-0.0231119, 0.00918615, -0.00735324, 0.999664)
bones/3/rotation = Quaternion(0.0663353, 0.00907518, -0.00721587, 0.99773)
bones/4/rotation = Quaternion(0.00529145, 0.114996, 0.0394188, 0.992569)
bones/6/rotation = Quaternion(0.0702424, 0.176952, -0.0217845, 0.981468)
bones/10/rotation = Quaternion(-0.505808, -0.490283, 0.599172, -0.380491)
bones/11/position = Vector3(9.06618e-07, 12.466, 1.06427e-05)
bones/11/rotation = Quaternion(0.399289, -0.3826, 0.232628, 0.800044)
bones/12/position = Vector3(9.96631e-07, 27.687, 3.87135e-06)
bones/12/rotation = Quaternion(-4.40785e-08, -3.65524e-07, 0.800512, 0.599317)
bones/13/position = Vector3(1.31857e-06, 27.8948, 2.01624e-06)
bones/13/rotation = Quaternion(0.138983, 0.0253803, 0.0643194, 0.987878)
bones/14/position = Vector3(-2.33004, 2.42102, 1.42961)
bones/14/rotation = Quaternion(0.24672, 0.0359672, 0.365269, 0.896891)
bones/15/position = Vector3(-5.37104e-06, 4.51394, 1.45862e-05)
bones/15/rotation = Quaternion(0.0250167, -0.0559736, -0.371349, 0.926467)
bones/16/position = Vector3(7.86271e-06, 5.17868, 2.866e-06)
bones/16/rotation = Quaternion(-0.119441, 0.0946405, -0.120127, 0.980993)
bones/17/position = Vector3(2.26497e-06, 3.13343, 1.3113e-06)
bones/18/position = Vector3(-2.20218, 10.5148, 0.265503)
bones/18/rotation = Quaternion(0.389025, -0.00942171, -0.0277964, 0.92076)
bones/19/position = Vector3(-4.01868e-06, 5.54929, -5.13388e-06)
bones/19/rotation = Quaternion(0.691564, -5.95947e-08, -0.0704698, 0.71887)
bones/20/position = Vector3(1.50708e-06, 3.39111, -1.23754e-06)
bones/20/rotation = Quaternion(0.428701, -0.00827779, -0.0611123, 0.901339)
bones/21/position = Vector3(1.91448e-06, 2.59029, -1.29138e-05)
bones/22/position = Vector3(0.0627356, 10.4908, 0.0347367)
bones/22/rotation = Quaternion(0.330666, -0.0356123, -0.0869446, 0.93906)
bones/23/position = Vector3(2.70779e-06, 5.80542, 1.5798e-05)
bones/23/rotation = Quaternion(0.738571, 2.52196e-08, -0.0747209, 0.670022)
bones/24/position = Vector3(-2.90438e-06, 3.682, -2.39257e-06)
bones/24/rotation = Quaternion(0.430471, -3.50732e-05, -0.0436254, 0.90155)
bones/25/position = Vector3(-5.9018e-06, 1.99504, -1.48853e-05)
bones/26/position = Vector3(2.37689, 10.2407, 0.0812896)
bones/26/rotation = Quaternion(0.328485, -0.0464551, -0.1413, 0.932724)
bones/27/position = Vector3(-3.02787e-06, 5.41894, -8.94067e-06)
bones/27/rotation = Quaternion(0.831597, -8.19782e-07, -0.0834757, 0.54907)
bones/28/position = Vector3(-1.9184e-06, 3.72794, -2.03391e-06)
bones/28/rotation = Quaternion(0.520961, 1.56864e-06, -0.0522928, 0.851977)
bones/29/position = Vector3(5.80544e-06, 1.68047, 1.12113e-06)
bones/30/position = Vector3(4.48118, 9.82023, 0.245602)
bones/30/rotation = Quaternion(0.372136, -0.134049, -0.236066, 0.887592)
bones/31/position = Vector3(1.02191e-05, 3.68446, 7.25311e-06)
bones/31/rotation = Quaternion(0.672111, 2.02162e-07, -0.0704508, 0.737091)
bones/32/position = Vector3(3.37854e-06, 2.81522, 3.17996e-06)
bones/32/rotation = Quaternion(0.857427, 0.0206599, -0.07755, 0.50831)
bones/33/position = Vector3(6.4807e-06, 2.15326, -1.44765e-05)
bones/34/rotation = Quaternion(0.530539, -0.488106, 0.46662, 0.512393)
bones/35/position = Vector3(-2.01104e-06, 12.466, -5.92889e-06)
bones/35/rotation = Quaternion(0.496255, 0.0995149, -0.480918, 0.715923)
bones/36/position = Vector3(-6.52597e-06, 27.687, 6.00814e-06)
bones/36/rotation = Quaternion(-2.00489e-07, -1.40998e-07, -0.798574, 0.601897)
bones/37/position = Vector3(6.7332e-06, 27.8948, -6.97904e-06)
bones/37/rotation = Quaternion(0.0638932, 0.0609683, -0.157025, 0.983638)
bones/38/position = Vector3(2.33004, 2.42098, 1.43)
bones/38/rotation = Quaternion(0.246766, -0.0283206, -0.383425, 0.889545)
bones/39/position = Vector3(-5.38234e-06, 4.5141, -7.7686e-06)
bones/39/rotation = Quaternion(0.0192259, 0.0593442, 0.386518, 0.92017)
bones/40/position = Vector3(-7.52562e-06, 5.17848, 6.63567e-07)
bones/40/rotation = Quaternion(-0.120252, -0.0937286, 0.176243, 0.972467)
bones/41/position = Vector3(1.1921e-06, 3.13386, 1.04904e-05)
bones/42/position = Vector3(2.20219, 10.5148, 0.265978)
bones/42/rotation = Quaternion(0.383509, 0.00898405, 0.018579, 0.923307)
bones/43/position = Vector3(2.71303e-06, 5.5493, 1.0898e-05)
bones/43/rotation = Quaternion(0.692883, 1.08825e-07, 0.0560384, 0.71887)
bones/44/position = Vector3(-8.58929e-06, 3.3911, -5.5479e-06)
bones/44/rotation = Quaternion(0.429478, 0.00829887, 0.0521753, 0.901531)
bones/45/position = Vector3(1.31097e-06, 2.59023, 1.11476e-05)
bones/46/position = Vector3(-0.0627241, 10.4908, 0.0349694)
bones/46/rotation = Quaternion(0.325139, 0.0348468, 0.0788472, 0.941729)
bones/47/position = Vector3(5.82203e-06, 5.80538, -8.8324e-06)
bones/47/rotation = Quaternion(0.739907, 5.04991e-06, 0.0593129, 0.670089)
bones/48/position = Vector3(-5.48012e-06, 3.68202, 3.09282e-06)
bones/48/rotation = Quaternion(0.431281, 3.38841e-05, 0.0346428, 0.901552)
bones/49/position = Vector3(-3.93433e-06, 1.99508, 2.95927e-07)
bones/50/position = Vector3(-2.37689, 10.2407, 0.0819954)
bones/50/rotation = Quaternion(0.323178, 0.0455294, 0.133357, 0.935788)
bones/51/position = Vector3(-5.93008e-06, 5.41897, 5.35338e-06)
bones/51/rotation = Quaternion(0.833138, 1.11338e-06, 0.0661216, 0.549099)
bones/52/position = Vector3(2.55279e-06, 3.72795, 2.0862e-06)
bones/52/rotation = Quaternion(0.521982, -2.83239e-06, 0.0414237, 0.85195)
bones/53/position = Vector3(-5.13093e-06, 1.68045, 4.83545e-06)
bones/54/position = Vector3(-4.48119, 9.82017, 0.246002)
bones/54/rotation = Quaternion(0.367523, 0.132975, 0.227235, 0.891969)
bones/55/position = Vector3(4.63576e-06, 3.68448, 5.88686e-06)
bones/55/rotation = Quaternion(0.673453, 5.09207e-06, 0.0564348, 0.737073)
bones/56/position = Vector3(7.0856e-06, 2.81519, -2.48322e-06)
bones/56/rotation = Quaternion(0.859068, -0.0207127, 0.0596491, 0.507952)
bones/57/position = Vector3(2.90144e-06, 2.15327, 1.15372e-05)
bones/58/rotation = Quaternion(0.109896, 0.248509, 0.954451, -0.123244)
bones/59/rotation = Quaternion(-0.512453, 0.0690738, 0.00554258, 0.855915)
bones/60/rotation = Quaternion(0.516255, 0.075985, -0.134901, 0.842324)
bones/61/rotation = Quaternion(0.472834, -0.0202289, 0.0560264, 0.879136)
bones/63/rotation = Quaternion(-0.145849, 0.171916, 0.950751, 0.212712)
bones/64/rotation = Quaternion(-0.509591, 0.0422125, -0.0967878, 0.853913)
bones/65/rotation = Quaternion(0.539969, 0.0483554, 0.188955, 0.818774)
bones/66/rotation = Quaternion(0.460638, 0.0199076, -0.0563268, 0.885575)

[node name="Components" type="Node3D" parent="visual"]

[node name="TakeDamageEnemy" parent="visual/Components" instance=ExtResource("2_cdbr8")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="visual/Components/TakeDamageEnemy"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.19066, 0)
shape = SubResource("CylinderShape3D_660sh")

[node name="PlayerDetector" parent="visual/Components" instance=ExtResource("3_xht30")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="visual/Components/PlayerDetector"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.59748, 0)
shape = SubResource("BoxShape3D_df71p")

[node name="EnemyAttacker" parent="visual/Components" instance=ExtResource("5_6lkdv")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="visual/Components/EnemyAttacker"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0428327, 1.35643, 0.702427)
shape = SubResource("BoxShape3D_ciij6")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.853066, 0)
shape = SubResource("CapsuleShape3D_yvcvq")

[node name="StateMachine" parent="." node_paths=PackedStringArray("initial_state") instance=ExtResource("4_qtdll")]
initial_state = NodePath("Idle")

[node name="Idle" type="Node" parent="StateMachine"]
script = ExtResource("5_2g57x")

[node name="attack" type="Node" parent="StateMachine"]
script = ExtResource("6_wc482")

[node name="dead" type="Node" parent="StateMachine"]
script = ExtResource("7_3gr7q")

[node name="fallIdle" type="Node" parent="StateMachine"]
script = ExtResource("8_3qjn3")

[node name="landing" type="Node" parent="StateMachine"]
script = ExtResource("9_0fsh7")

[node name="takeDamage" type="Node" parent="StateMachine"]
script = ExtResource("10_7hh7k")

[node name="chase" type="Node" parent="StateMachine"]
script = ExtResource("11_c655g")

[connection signal="animation_finished" from="visual/Enemy/AnimationPlayer" to="." method="_on_animation_player_animation_finished"]
[connection signal="player_detected" from="visual/Components/PlayerDetector" to="." method="_on_player_detector_player_detected"]
[connection signal="player_undetected" from="visual/Components/PlayerDetector" to="." method="_on_player_detector_player_undetected"]
[connection signal="attacking" from="visual/Components/EnemyAttacker" to="." method="_on_enemy_attacker_attacking"]

[editable path="visual/Enemy"]
